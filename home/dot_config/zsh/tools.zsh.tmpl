# ============================================================================
# Tool Integrations
# ============================================================================

# mise - version manager for languages and tools
{{- if lookPath "mise" }}
# mise manages its own hooks, run directly (don't cache)
eval "$(mise activate zsh)"
{{- end }}

# atuin - magical shell history
{{- if lookPath "atuin" }}
# atuin can be cached for faster startup
znap eval atuin 'atuin init zsh'
{{- end }}

# starship - cross-shell prompt
{{- if lookPath "starship" }}
# starship can be cached for faster startup
znap eval starship 'starship init zsh'
{{- end }}

# zoxide - smarter cd command
{{- if lookPath "zoxide" }}
# zoxide can be cached for faster startup
znap eval zoxide 'zoxide init zsh'
{{- end }}

# trufflehog - secrets scanner (daily background scan)
{{- if lookPath "trufflehog" }}
# Load and run daily scan function
if [ -f "$XDG_CONFIG_HOME/zsh/functions/trufflehog-daily-scan" ]; then
    source "$XDG_CONFIG_HOME/zsh/functions/trufflehog-daily-scan"
fi
{{- end }}

if [ -f "$XDG_CONFIG_HOME/op/plugins.sh" ]; then
  source "$XDG_CONFIG_HOME/op/plugins.sh"
fi

# vi: ft=zsh
